<!doctype html>
<html>
<head>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
</head>
<body>
    <form action="/fullText" method="post">
        <div class="input-group mb-3">
            <select class="custom-select" id="field" name="field">
                <option selected>Field...</option>
                <option value="login">Login</option>
                <option value="password">Password</option>
                <option value="email">Email</option>
                <option value="nickname">Nickname</option>
                <option value="name">Name</option>
            </select>
            <select class="custom-select" id="textSearch" name="textSearch">
                <option value="excluded" selected>Excluded</option>
                <option value="included">Included</option>
            </select>
            <input type="text" name="filterInput" class="form-control" placeholder="Recipient's username">
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="submit">Search</button>
            </div>
        </div>
    </form>
    <form action="/filter" method="post">
        <div class="input-group mb-3">
            <select class="custom-select" id="field" name="field">
                <option selected>Field...</option>
                <option value="login">Login</option>
                <option value="email">Email</option>
                <option value="nickname">Nickname</option>
                <option value="name">Name</option>
            </select>
            <input type="text" name="filterInput" class="form-control mr-3" placeholder="Field">
            
            <select class="custom-select" id="countField" name="countField">
                <option selected>Field...</option>
                <option value="level">Level</option>
                <option value="hp">Hp</option>
                <option value="mp">Mp</option>
                <option value="itemCount">Item count</option>
            </select>
            <input type="text" name="countFrom" class="form-control" placeholder="From">
            <input type="text" name="countTo" class="form-control" placeholder="To">

            <div class="input-group-append ml-3">
                <button class="btn btn-outline-secondary" type="submit">Search</button>
            </div>
        </div>
    </form>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Login</th>
                <th scope="col">Password</th>
                <th scope="col">Created On</th>
                <th scope="col">Signed On</th>
                <th scope="col">Email</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            <% r.forEach(function(item, i, r) {%>
                <tr>
                    <td><a href="/characters/<%=item.id%>"><%=item.login%></a></td>
                    <td><%=item.password%></td>
                    <td><%=item.createdOn%></td>
                    <td><%=item.signedOn%></td>
                    <td><%=item.email%></td>
                    <td>
                        <form method="post" action="/delete">
                            <button type="submit" name="id" value="<%=item.id%>" class="btn btn-danger">Delete</button>
                        </form>
                    </td>
                </tr>
            <% }); %>
        </tbody>
    </table>
    <form method="post">
        <div class="form-group">
            <label for="email">Email address</label>
            <input type="email" class="form-control" name="email" aria-describedby="emailHelp" placeholder="Enter email">
        </div>
        <div class="form-group">
            <label for="login">Login</label>
            <input type="text" class="form-control" name="login" placeholder="Login">
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" class="form-control" name="password" placeholder="Password">
        </div>
        <button type="submit" class="btn btn-primary btn-lg" formaction="/">Add</button>
        <button type="submit" class="btn btn-primary btn-lg" formaction="/update">Update</button>
    </form>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
</body>
</html>